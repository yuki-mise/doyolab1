<!doctype html>
<html lang="jp">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>研究内容03</title>
    
    <link rel="stylesheet" href="main.css">
</head>


<body>
    <!--ホームに帰るためのボタン-->
    <logotohome>
    <a href="index.html"><img src="images/icon.png" alt=""></a>
    </logotohome>

    <!--h1は見出し１（大見出し）-->
    <h1>研究内容</h1>
        <!--h2は見出し2（中見出し）-->
        <h2>アプリ制作学習</h2>
    <h3>学習目的と後期の研究について</h3>
        <p>アプリケーションを制作するにあたって必要なプログラムの学習を目的として、新たな本を参照し、サンプルアプリの制作を行う。<br>
            前期では一つのアプリ制作を丁寧に紹介する形式の本で流れをつかめたため、後期ではたくさんのサンプル制作に取り組み、研究に活用する。
    </p>
    <h2>使用書</h2>
    <h3>基礎＆応用力をしっかり育成！Androidアプリ開発の教科書 Kotlin対応</h3>
    <p>
    <img src="images/Android-book2.jpg" width="20%"><br>
        <br>
        WINGSプロジェクト 齊藤 新三/著 山田祥寛/監修<br>
            株式会社 翔泳社/発行<br>
            B5変版・ 416ページ・ 2色<br>
            ISBN 978-4-7981-6044-3<br>
            発刊日： 2019年7月10日<br>
    </p>
    <h3>サンプル1「リスト表示とメッセージ表示」</h3>
    <p>アプリの画面構成として、今まではGUIと呼ばれる、部品をドラッグアンドドロップする形で配置するプログラムをしてきたが、<br>
        今回はテキストで画面構成のプログラミングを行ってみた。<br>
        さらに、リストを表示するとそれぞれ該当のメッセージが表示されるようにプログラムを書き換えた。<br>
        <br>
        KUアプリへの活用…アイコンをタップするとその項目に関するリストを表示するプログラム<br>
        <br>
        <img src="images/kouki03.png" width="30%">   <img src="images/kouki04.png" width="30%"> <br>
        <br>
        <img src="images/kouki01.png" width="70%"><br>
        1.リストに表示したい項目を入力する
        <br>
        <br>
        <img src="images/kouki02.png" width="70%"><br>
        2.入力した項目をリストの形で表示するようにレイアウトを調整
        <br>
        <br>
        <img src="images/kouki05.png" width="70%"><br>
        3.表示されたリストを押すとメッセージが表示されるプログラムの作成
        <br>
        <br>
    </p>
     <h3>サンプル2「リスト表示と画面遷移」制作の経緯</h3>
    <p>リストから項目を選択すると別の画面に移動するプログラムの作成「メニュー表から料理を選択し、対応した画面に移動するサンプル」<br>
        プログラムの仕組みとしては、画面が完全に切り替わるのではなく、現在の画面の上に新たな画面が表示され、<br>
        前の画面は保持されたままになっている。<br>
        KUアプリでの活用…リストから選んだ項目に該当する画面に移動するプログラム<br>
        しかし…起動には成功するものの警告メッセージが出てしまうのと同時に、アプリが繰り返し終了してしまう不具合の発生<br>
        そこで…出版社から出ているサンプルと見比べてみたところ、同じところで警告メッセージが出ている。<br>
        しかし、サンプルでは自分で入力したアプリで起こった不具合がなく問題なく起動ができている。→それ以外の項目に違いがある？<br>
        <br>
        以下は試してみたことになります。<br>
        ①androidstudioの更新通知が来ていたので、更新と追加項目のダウンロードを試してみる→一時期エミュレーター自体が動かなくなってしまうこともあったが、SDKのダウンロードなど最初に行ったことをやり直すことで解決。<br>
        ②アプリが多く入りすぎているのではないか？→エミュレーターの容量を増やすために不要な試作アプリを削除してみる。<br>
        これらのことを行った結果、しっかりと動くようになりました！(原因はハッキリとは分かりませんが、コードに関しては最終的に何も変えなかったため、エミュレーターの一時的な不具合によるものだと思われます。)<br>
        【制作手順】(記入途中のため先に完成したアプリの画像だけ掲載しておきます。)<br>
        <img src="images/kouki06.png" width="30%"><br>
        指定した項目を選ぶと
        <br>
        <br>
        <img src="images/kouki07.png" width="30%"><br>
        新しい画面に遷移する。(リストに戻るボタンで最初の画面に戻る。)
    </p>
    <h3>サンプル3「アプリ内で指定したURLのウェブサイトを参照する」制作の経緯</h3>
    <p>まず、アプリでウェブサイトを参照するためには<br>
        ①アプリを離れてブラウザーを起動して閲覧する方法<br>
        ②「webview」というレイアウトパーツを使ってアプリから離れずに閲覧する方法<br>
        以上の2つの方法がある。今回は②のwebviewを使った方法でウェブサイト参照ができるのか試す。<br>
        KUアプリでの活用…画面遷移したリストに対応する項目の情報が掲載されたウェブサイトを閲覧する。<br>
        <br>
        今回作ろうとしている試作は本の掲載がないためインターネットを参考に調べてみたところ、<a href="https://techacademy.jp/magazine/3503">
            このようなサイト</a>が見つかった。しかしこれはJavaでプログラムが書かれており、活用するためにはKotlinに書き換える必要性がある。<br>
        そこで今回はJavaのプログラムをKotlinに書き換える機能を使って試してみることにした。<br>
        しかし、URLを神奈川大学のホームページに指定して行ったところ、エミュレーターは正しく起動したものの、ウェブサイトが表示されず真っ白の画面になってしまう。<br>
        <br>
        そこで、他に参照できるサイトはないかを探してみたところ、<a href="https://developer.android.com/guide/webapps/webview">
            AndroidstudioのDeveloperサイト</a>にwebviewの紹介がされているのを発見。英語表記であるもののKotlinでの書き方を含めて書かれている。<br>
        これを参考にしているうちに、はじめに試したアプリではJavascriptの表示について何も設定していなかったために空白のページが出てしまったことが判明した。→デフォルトで非表示になっているため。<br>
        KOtlinでのプログラム作成の結果、このような形でブラウザーとほとんど変わらない画面表示を行うことができた。<br>
        <img src="images/kouki12.png" width="30%"><br>
        <br>
        また、このままでは指定したURLしか表示できない設定になっているので、タップしたサイトをアプリ内部に反映させるプログラムを書き加えた結果、これもうまく反映された。<br>
        <img src="images/kouki13.png" width="30%"><br>
        <br>
        しかし、この形だと戻るボタンがなく操作性があまりよくないものになってしまうため、KUアプリで利用するためにはサンプル2を参考に戻るボタンを追加してみたものを作成する必要がある。<br>
        →AndroidstudioのDeveloperサイトに、端末の戻るボタンを押すとブラウザの画面が元に戻るコードを発見。うまく反映させることができた。
        
        
        
    </p>